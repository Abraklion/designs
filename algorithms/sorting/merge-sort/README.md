# Сортировка слиянием `Merge Sort`

В компьютерных науках сортировка слиянием (также обычно пишется как сортировка слиянием) — это эффективный алгоритм сортировки общего назначения на основе сравнения. Большинство реализаций производят стабильную сортировку, что означает, что реализация сохраняет порядок ввода одинаковых элементов в отсортированном выводе. Сортировка слиянием — это алгоритм «разделяй и властвуй», изобретенный Джоном фон Нейманом в 1945 году.

Пример сортировки слиянием. Сначала разделите список на наименьшую единицу (1 элемент), затем сравните каждый элемент с соседним списком, чтобы отсортировать и объединить два соседних списка. Наконец, все элементы сортируются и объединяются.

![Быстрая сортировка](./img.gif)

Алгоритм рекурсивной сортировки слиянием, используемый для сортировки массива из 7 целочисленных значений. Это шаги, которые должен предпринять человек, чтобы эмулировать сортировку слиянием (сверху вниз).

![Быстрая сортировка](./img2.svg)

## Сложность

|      Наименование       |    Лучший случай    | Средний случай | Худший случай |   Память   | Устойчивость |               Комментарии               |
|:-----------------------:|:-------------------:|:--------------:|:-------------:|:----------:|:------------:|:---------------------------------------:|
| **Сортировка слиянием** |     `n log(n)`      |   `n log(n)`   |  `n log(n)`   |  `log(n)`  |     `да`     |                                         |


## Примеры

- [Пример 1 - реализация сортировка слиянием](#Пример-1)

---

### Пример 1

### `Шаг 1`

_Находим центр и разбиваем массив на две части._

````js
function mergeSort(array) {
  // находим центр
  let mid = Math.floor(array.length / 2);

  // делим массив на две части ЛЕВАЯ
  let left = array.slice(0,mid)

  // и ПРАВАЯ
  let right = array.slice(mid,array.length)
}

// вызов
console.log(mergeSort([1,2,43,21,5,56,45,46,65,54,3,8,24,78,6]))
````

### `Шаг 2`

_Для левого и правого массива вызываем mergeSort(получем рекурсию). В пишим вспомогательную функцию которая сливает массивы._

````js
// вспомогательная функция сливает два массива
const merging = (leftArr,rightArr) => {
  const result = []

  // пока у левой и правой части массива есть длина
  while (leftArr.length && rightArr.length) {
    if(leftArr[0] < rightArr[0]) {
      result.push(leftArr.shift())
    } else {
      result.push(rightArr.shift())
    }
  }

  // пока у левой части массива есть длина
  while (leftArr.length ) {
    result.push(leftArr.shift())
  }

  // пока у правой части массива есть длина
  while (rightArr.length) {
    result.push(rightArr.shift())
  }

  return result
}

// главная функция 
function mergeSort(array) {

  // если в массиве 1 или меньше элемент возвращаем этот массив
  if (array.length <= 1) {
    return array
  }

  // находим центр
  let mid = Math.floor(array.length / 2);

  // делим массив на две части ЛЕВАЯ
  let left = array.slice(0,mid)

  // и ПРАВАЯ
  let right = array.slice(mid,array.length)

  // сливаем левую и правую часть
  return merging(mergeSort(left),mergeSort(right))

}

// вызов
console.log(mergeSort([1,2,43,21,5,56,45,46,65,54,3,8,24,78,6]))
````
